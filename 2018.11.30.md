#2018.11.30 TIL## Shader### 이론1.  properties는 Unity에서 조절 가능한 변수를 선언하는 역할이다. [변수이름("보이는이름", 변수형) = 초기값]과 같은 방법으로 선언한다.2. Struct 두개 필요.(input의 appdata, output의 v2f)3. Properties에서 선언하고 쓰일 변수들은 Pass{}안에서 다시 선언해야하는데, 이때 MainTexture의 데이터형은 Sampler2D이다.4. vertex는 꼭짓점에 대한 정보를 넘기고, float4형태이다. (꼭짓점과.. 색..?)5. 색상을 나타내는 데이터형식은, 비트수가 큰 순서대로 float, fixed, half이다.6. 색상에 위치를 입힐 수 있는데, 이 때 sin(i.uv.x)를 {r, g, b, a}안의 하나의 변수로 넣어서 변경가능하다. i.uv.x += sin(_Time*_speed);로는 텍스쳐를 조금씩 이동시킬 수 있다.7. UnityObjectToClipPos는vertex를 카메라 기준의 position으로 바꾸어 어디서 보든 똑같이 보이도록 한다.8. BlendShader는 두개의 texture 혹은 색깔을 섞을때 어떻게 섞이는지를 결정한다. 9. Zwirte Off는 z기준 뒤에있어서 가려진 pixel을 그리지 않는 의미이다.10. 색은 +할수록 짖어지고, -할수록 밝아지고, *하면 중간으로 섞인다.(tintcolor는 곱하기)### 이미지가 이동하도록```Shader "Custom/WaterShader" {		Properties		{			_MainTex("Texture", 2D) = "white" {}			_speed("Speed", Float) = 1		}			SubShader		{				Zwrite Off			Tags{ "RenderType" = "Opaque" }			LOD 100			Pass		{			CGPROGRAM#pragma vertex vert#pragma fragment frag			// make fog work#pragma multi_compile_fog#include "UnityCG.cginc"			struct appdata		{			float4 vertex : POSITION;			float2 uv : TEXCOORD0;		};		struct v2f		{			float2 uv : TEXCOORD0;			UNITY_FOG_COORDS(1)				float4 vertex : SV_POSITION;		};		sampler2D _MainTex;		float4 _MainTex_ST;		float _speed;		v2f vert(appdata v)		{			v2f o;			o.vertex = UnityObjectToClipPos(v.vertex);			o.uv = TRANSFORM_TEX(v.uv, _MainTex);			UNITY_TRANSFER_FOG(o,o.vertex);			return o;		}		fixed4 frag(v2f i) : SV_Target		{			// sample the texture			i.uv.x += sin(_Time*_speed);			fixed4 col = tex2D(_MainTex, i.uv);		// apply fog		UNITY_APPLY_FOG(i.fogCoord, col);		return col;		}			ENDCG		}		}}```