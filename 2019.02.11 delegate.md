# 2019.02.11 TIL## Delegate### caculate```using System;using System.Collections.Generic;using System.Linq;using System.Text;using System.Threading.Tasks;namespace DelegatePractice{	delegate int MyDelegate(int a, int b);	class Calculator	{		public int Plus(int a, int b)		{			return a + b;		}		public static int Minus(int a, int b)		{			return a - b;		}	}	class Program	{		static void Main(string[] args)		{			Calculator cal = new Calculator();			MyDelegate callback;			callback = new MyDelegate(cal.Plus);			Console.WriteLine(callback(3, 4));			callback = new MyDelegate(Calculator.Minus);			Console.WriteLine(callback(7, 5));		}	}}``````72```1. Delegate의 선언은 클래스 밖에서(클래스처럼 다뤄지는듯...!)2. Delegate의 형태는 참조할 메소드의 형태와 똑같다. (매개변수도 똑같다)3. Delegate를 사용할 때에는 Delegate 형태의 변수를 선언한 후, 그 변수를 사용해야 한다. 이때 참조할 메소드를 생성자 안에 넣는다.4. Delegate형태의 변수를 사용할 때, 매개변수로 참조할 메소드로 넘겨줄 값을 넣어 사용한다.### Sort Number```using System;using System.Collections.Generic;using System.Linq;using System.Text;using System.Threading.Tasks;namespace DelegatePractice{	delegate int Compare(int a, int b);	class Program	{		static int AscendCompare(int a, int b)		{			if (a > b) return 1;			else if (a == b) return 0;			else return -1;		}		static int DescendCompare(int a, int b)		{			if (a < b) return 1;			else if (a == b) return 0;			else return -1;		}		static void BubbleSort(int[] DataSet, Compare Comparer)		{			int temp = 0;			for (int i = 0; i < DataSet.Length-1; i++)			{				for(int j = 0; j < DataSet.Length-i-1; j++)				{					if(Comparer(DataSet[j], DataSet[j+1]) > 0)					{						temp = DataSet[j + 1];						DataSet[j + 1] = DataSet[j];						DataSet[j] = temp;					}				}			}		}		static void Main(string[] args)		{			int[] array = { 3, 7, 4, 2, 10 };			Console.WriteLine("\nSorting ascending...\n");			BubbleSort(array, new Compare(AscendCompare));			for(int i = 0; i < array.Length; i++)			{				Console.Write("{0} ", array[i]);			}			int[] array2 = { 7,2,8,10,11 };			Console.WriteLine("\nSorting descending...\n");			BubbleSort(array2, new Compare(DescendCompare));			for (int i = 0; i < array2.Length; i++)			{				Console.Write("{0} ", array2[i]);			}		}	}}``````Sorting ascending...2 3 4 7 10Sorting descending...11 10 8 7 2```### 일반화```using System;using System.Collections.Generic;using System.Linq;using System.Text;using System.Threading.Tasks;namespace DelegatePractice{	delegate int Compare<T>(T a, T b);	class MainApp	{		static int AscendCompare<T>(T a, T b) where T : IComparable<T>		{			return a.CompareTo(b);		}		static int DescendCompare<T>(T a, T b) where T : IComparable<T>		{			return a.CompareTo(b) * -1;		}		static void BubbleSort<T>(T[] DataSet, Compare<T> Comparer)		{			T temp;			for (int i = 0; i < DataSet.Length - 1; i++)			{				for (int j = 0; j < DataSet.Length - i - 1; j++)				{					if (Comparer(DataSet[j], DataSet[j + 1]) > 0)					{						temp = DataSet[j + 1];						DataSet[j + 1] = DataSet[j];						DataSet[j] = temp;					}				}			}		}		static void Main(string[] args)		{			int[] array = { 3, 7, 4, 2, 10 };			Console.WriteLine("\nSorting ascending...\n");			BubbleSort<int>(array, new Compare<int>(AscendCompare));			for (int i = 0; i < array.Length; i++)			{				Console.Write("{0} ", array[i]);			}			string[] array2 = { "abc", "def", "ghi", "jkl", "mno" };			Console.WriteLine("\nSorting descending...\n");			BubbleSort<string>(array2, new Compare<string>(DescendCompare));			for (int i = 0; i < array2.Length; i++)			{				Console.Write("{0} ", array2[i]);			}		}	}}``````Sorting ascending...2 3 4 7 10Sorting descending...mno jkl ghi def abc```