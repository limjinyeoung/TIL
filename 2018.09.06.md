﻿# 2018.09.06 TIL ## CRT 코드 분석### UnitPrefabs - Instance : public static UnitPrefabs Instance {get; private set;} - Cars : 모든 자동차 object들의 상위 object인 CarPrefebs를 public으로 지정받는다. - Trains : 모든 기차 object들의 상위 object인 CarPrefebs를 public으로 지정받는다. - Boats : 모든 보트 object들의 상위 object인 CarPrefebs를 public으로 지정받는다. (현재 0906, 아직 object 구현은 안되어있는듯.) - Units : Dictionary<UnitState, List<MovingObject>> 형식. 모든 자동차, 기차, 보트들의 List를 관리하도록한다. - Awake() : Instance와 Units를 초기화한다.(MapObject.UnitState에서 enum으로 번호를 지정하여 Units Dictionary에 빈 list<MovingObject>를 add한 후, 각 종류별로 foreach문을 사용하여 모든 prefabs(차, 기차 등)에 MovingObject script를 AddComponent한 후, Units[num]에 Add한다. ) - GetUnitCount(UnitState unitState) : Units에서 UnitState(차, 기차에 할당한 번호)를 찾아 List<MovingObject>의 요소의 수를 return한다. - CreateUnit(UnitState unitState, int index) : unitState(종류)와 index(번호)를 인자로 받아서 Units안에 unitState와 그안에 index가 존재하는지 판단 한 후, 있다면 그에 맞는 새로운 unit을 생성한 후, MovingObject의 형태로 return한다.