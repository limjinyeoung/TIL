# 2018.11.09 TIL## Acade### Meteor```using System.Collections;using System.Collections.Generic;using UnityEngine;public class Meteor : MonoBehaviour{	public int MeteorLife;	// Use this for initialization	void Start()	{		this.transform.eulerAngles = new Vector3(0, 0, Random.Range(-30, 30));	}	// Update is called once per frame	void Update()	{		if (AcadeGameManager.Instance.isPlaying)		{			transform.position -= transform.up * AcadeGameManager.Instance.GameSpeed;		}	}		private void OnTriggerEnter2D(Collider2D collision)	{		if (collision.transform.tag == "Beam")		{			MeteorLife--;			if (MeteorLife >= 0)			{				GameObject meteor1 = GameObject.Instantiate(AcadeMapManager.Instance.Objects[MeteorLife]);				meteor1.SetActive(true);				meteor1.transform.position = collision.transform.position - transform.up*0.1f;				GameObject meteor2 = GameObject.Instantiate(AcadeMapManager.Instance.Objects[MeteorLife]);				meteor2.SetActive(true);				meteor2.transform.position = collision.transform.position - transform.up*0.1f;			}			GameObject.Destroy(this.gameObject);		}	}	private void OnCollisionEnter2D(Collision2D collision)	{		if (collision.transform.tag == "Limit") GameObject.Destroy(this.gameObject);	}}```1. meteor의 이동에는 변화가 없다. 다만, Beam과 충돌할 경우 (Trigger!!!) 작은 meteor가 되게 한다.2. 충돌한 Meteor는 사라지고, 두개의 Meteor (보다 작은 Meteor)가 그 자리에 생성되도록 한다.3. GameMapManager의  Objects를 재활용하여, Objects[0]에 Meteor0(제일 작음), Objects[2]에 Meteor2(제일 큼)을 지정한다.4. MeteorLife를 생성시 지정하지 않고, 프리팹(Origin)의 public에서 미리 지정한다. ### Beam```using System.Collections;using System.Collections.Generic;using UnityEngine;public class Beam : MonoBehaviour {	// Use this for initialization	void Start () {			}		// Update is called once per frame	void Update () {		this.transform.position += transform.up * AcadeGameManager.Instance.GameSpeed * 6;	}	private void OnTriggerEnter2D(Collider2D collision)	{		if (collision.transform.tag == "Limit") GameObject.Destroy(this.gameObject);		else if (collision.transform.tag == "Obstacles") GameObject.Destroy(this.gameObject);	}}```1. Player가 지속적으로 위쪽으로 쏘는 미사일.2. 무언가에 부딪히면 (star 제외)소멸한다. (충돌시 상대 collision의 변화는 상대의 script에 따로 있도록 한다.)3. Payer script에서 InvokeRepeating을 이용하여 지속, 반복적으로 생성한다.## Trigger### 지정방법1. Acade에서의 Beam, BrickBreak에서의 Ball이 Trigger의 속성을 가지고 있다.2. Trigger의 속성을 가지고 있는 GameObject에만, Rigidbody의 type은 dynamic, Box Collider의 Is Trigger에 체크한다.### 사용방법1. Trigger를 사용하면, ColliderEnter로 감지할 수 없다. (반대도 마찬가지!)2. 이러한 특징 때문에, Collision 체크가 일어나는 차원을 분리시킬 수 있다.3. Item과 Ball은 서로 충돌하지 말아야 하고, Ball은 Bar와 충돌해야하고, Item도 Bar와 충돌해야 할 경우=> Ball에 rigidbody가 붙어있는 상태에서TriggerEnter로 충돌체크 / Item에 rigidbody 없이 ColliderEnter로 충돌체크 / Bar에 rigidbody추가