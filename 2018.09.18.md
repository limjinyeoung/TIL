# 2018.09.18## CRT### 게임시작 카운트1. time scale을 멈추는 것이 아니라, 빨리 감되, GameManager의 isPlaying 을 사용하여 멈춰있을 사물과 정보(시간)들을 컨트롤 한다. 2. 카메라와 맵은 time scale에 따라 움직이며, 플레이어의 움직임과 시간 UI는 isPlaying에 따라 움직인다.3. 카운트는 UI Label이 아닌 Sprite를 이용하여 숫자 사진으로 카운팅한다. 이 때, sprite자체가 아니라 Panel을 오브젝트로 받아와서 활성화/비활성화하는 방식으로 숫자를 내비친다.### UIManager script```using System.Collections;using System.Collections.Generic;using UnityEngine;public class UIManager : MonoBehaviour {	public static UIManager Instance { get; private set; }	public UILabel meterLabel;	public UILabel timeLabel;	public UILabel scoreLabel;	public UILabel topScoreLabel;	public TweenAlpha popup;	public TweenAlpha gameOverPopup;	public GameObject count0;	public GameObject count1;	public GameObject count2;	public GameObject count3;	public bool isCounting;	public int timeScore = 0;	public int meter = 0;	private float time;			void Start () {		Instance = this;		time = 0;		isCounting = true;		PrintCounting();	}		void Update () {		if (GameManager.Instance.isPlaying)		{			time += Time.deltaTime;			if (time >= 1)			{				timeScore += 1;				timeLabel.text = timeScore.ToString();				time -= 1;			}		}	}	public void PrintCounting()	{		Time.timeScale = 3.0f;		count3.SetActive(true);		StartCoroutine(Loading3());		StartCoroutine(Loading2());		StartCoroutine(Loading1());		StartCoroutine(Loading0());	}	IEnumerator Loading3()	{		yield return new WaitForSeconds(3);		count3.SetActive(false);		count2.SetActive(true);	}	IEnumerator Loading2()	{		yield return new WaitForSeconds(6);		count2.SetActive(false);		count1.SetActive(true);	}	IEnumerator Loading1()	{		yield return new WaitForSeconds(9);		count1.SetActive(false);		count0.SetActive(true);	}	IEnumerator Loading0()	{		yield return new WaitForSeconds(12);		count0.SetActive(false);		Time.timeScale = 1.0f;		GameManager.Instance.isPlaying = true;		isCounting = false;	}	public void SetMeter(int i)	{		meter+=i;		meterLabel.text = meter.ToString();	}	public void PrintScore()	{		scoreLabel.text = timeLabel.text + " sec\n\n" + meterLabel.text + " m";		topScoreLabel.text = "Top Score\n" + GetTopScore() + " m";			}		public int GetTopScore()	{		if (PlayerPrefs.HasKey("TopScore"))		{			if (PlayerPrefs.GetInt("TopScore") < meter)				PlayerPrefs.SetInt("TopScore", meter);		}		else		{			PlayerPrefs.SetInt("TopScore", meter);		}		PlayerPrefs.Save();		return PlayerPrefs.GetInt("TopScore");	}	public void SetPopUpEnable()	{		popup.enabled = true;		popup.PlayForward();	}	public void SetPopUpUnable()	{		popup.PlayReverse();	}	public void SetGameOverPopuUpEnable()	{		gameOverPopup.enabled = true;		gameOverPopup.PlayForward();	}	public void OnResetButtonListener()	{		GameManager.Instance.ResetGame();	}	public void OnPauseButtonListener()	{		GameManager.Instance.switchPlayStatus();	}	public void OnTopScoreResetButtonListener()	{		PlayerPrefs.SetInt("TopScore", 0);		topScoreLabel.text = "Top Score\n" + " 0 m";	}}```1. PrintCounting()은 게임시작 카운트를 위한 함수이며, StartCoroutine을 사용하여 1초당 숫자가 하나씩 바뀌도록한다. (+이 코드를 더 짧게 만드는 방법은 무엇일까?)2. isCounting을 통해 카메라가 Counting중에도 움직여서 플레이어를 담을 수 있도록 했다.### 그 외의 수정사항1. 카메라가 플레이어를 더 정확히 비추도록 위치를 조정.2. 회색의 빈칸이 보이지 않도록 시작시 플레이어의 뒤쪽 맵도 생성.3. 플레이어가 아랫방향 키를 눌렀을 때, 리미트에 걸려 가지 못해도 m가 줄어드는 오류 수정.