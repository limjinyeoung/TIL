# 2018.11.05## AcadeGame### AcadeGame기획1. 우주에서 미사일과 우주선, 운석을 피하여 날아다니는 2d 종스크롤 슈팅게임에서 슈팅만 뺀 게임2. GameManager와 UIManager는 거의 복붙. 그러나 export를 위해 소스들은 따로 빼서관리.3. 소스는 언제든 바뀔 수 있다. (우주가 아닌 해양 배경도 좋을듯 하다)4. player는 좌우로만 움직이도록 하고, 미사일을 발사하지 않음. 따라서 좌우 이동 이외의 정보는 따로 필요하지 않음.5. 종스크롤의 효과는 player와 카메라의 움직임이 아닌, Map과 오브젝트들의 움직임으로 구현한다. ### Background```using System.Collections;using System.Collections.Generic;using UnityEngine;public class BackgroundScroll : MonoBehaviour {	public float ScrollSpeed;	private Material material;	// Use this for initialization	void Start () {		material = GetComponent<Renderer>().material;	}		// Update is called once per frame	void Update () {		if (AcadeGameManager.Instance.isPlaying)		{			Vector2 offset = material.mainTextureOffset;			offset.Set(0, offset.y + (ScrollSpeed * Time.deltaTime));			this.material.mainTextureOffset = offset;		}	}}```1. background는 무한 스크롤 되어야 한다.2. [GameObject] - [3D Object] - [Quad] 생성3. Material생성하고, Mobile/Particles/Alpha Blended 설정.4. Material에 Texture Type이 default이고 rap Mode가 Repeat이며, Filter Mode가 Point(no filter)인 텍스쳐를 등록.5. 위의 코드를 Quad에 삽입, Material을 Quad에 등록.6. Quad의 크기를 텍스쳐에 맞게 적절히 늘리면, scrollSpeed만큼의 속도로 스크롤된다.### MapManager```using System.Collections;using System.Collections.Generic;using UnityEngine;public class AcadeMapManager : MonoBehaviour {	public GameObject[] Objects;	List<GameObject> Obstacles;	// Use this for initialization	void Start () {		Obstacles = new List<GameObject>();	}		// Update is called once per frame	void Update () {		if (AcadeGameManager.Instance.isPlaying)		{			foreach (GameObject ob in Obstacles)			{				ob.transform.position -= new Vector3(0, 0.01f, 0);				//if (ob.transform.position.y < -10)					//GameObject.Destroy(ob.gameObject);			}			int num = Random.Range(0, 1000);			if (num < Objects.Length)			{				GameObject go = GameObject.Instantiate(Objects[num]);				go.SetActive(true);				Obstacles.Add(go);				go.transform.position = new Vector3(Random.Range(-3.5, 3.5), 9, 0);			}		}	}}```1. Objects에는 비활성화 한 sprite (GameObject)들을 등록해준다. (운석, 우주선 등)2. Obstacles는 현재 맵에 활성화되어있는 Object들의 list이다.3. foreach문을 통해 obstacles의 안에 있는 오브젝트들을 아래로 조금씩 이동시킨다.4. 매 프레임마다 랜덤하게 오브젝트를 생성하거나, 생성하지 않는다.(이 로직을 다듬을 필요가 있어보임.)5. 모든 오브젝트들은 collider를 가지고 있어야 하며, collider는 여러개 있어도 되는 듯 하다!### 앞으로 해야할 일1. obstacles에서 화면에서 사라진 오브젝트들을 삭제하기2. 오브젝트 각각의 특성 부여 (충돌체크, 미사일 발사 등)3. 미사일 효과음4. 아틀라스와 소스 관리 ,export시도5. 충돌시 효과 기획(게임오버 혹은 데미지)6. obstacle 생성 로직 수정7. collider모양 다듬기